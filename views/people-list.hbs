<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LPPWDFI | People Lists</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/css/List-style.css">
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
</head>

<body>
    <div id="wrapper">
        <div class="overlay dark_bg"></div>
        <!-- Modal Background -->

        <!-- Sidebar -->
        <nav class="navbar navbar-inverse fixed-top" id="sidebar-wrapper" role="navigation">
            <ul class="nav sidebar-nav">
                <div class="sidebar-header">
                    <div class="sidebar-brand">
                        <a href="#">Admin</a>
                        <hr class="navbar-solid">
                    </div>
                </div>
                <li><a href="/">Dashboard</a></li>
                <li><a href="/programs">Programs</a></li>
                <li><a href="/people">People</a></li>
                <li><a href="/benefactors">Benefactor</a></li>
                <li><a href="/benefits">Benefits</a></li>
                <li><a href="/settings">Settings</a></li>
                <li class="logout-link"><a href="#logout"><i class="bi bi-box-arrow-right"></i> Logout</a></li>
            </ul>
        </nav>
        <!-- /#sidebar-wrapper -->

        <!-- HEADER -->
        <div class="bg-half-gradient">
            <header class="bg-gradient">
                <div class="container d-flex align-items-center">
                    <div class="menu-icon mr-3" id="menu-toggle">&#9776;</div>
                    <a href="../views/dashboard.html">
                        <img src="../images/LPPWDFI-Logo.png" alt="Logo" class="logo mr-3">
                    </a>
                    <div>
                        <h1 class="org-name">People</h1>
                    </div>
                </div>

                <div class="createBtn">
                    <button type="button" data-bs-toggle="modal" data-bs-target="#modal-people-create">Create</button>
                </div>

            </header>
        </div>

        <!--2nd Header-->
        <main class="main-content">
            <h2 class="main-title">People List</h2>
            <div class="button-group">
                <button class="btn export-btn" onclick="exportTableToCSV('People.csv')">Export to CSV</button>
            </div>

            <!---TABLE LISTS-->
            <div class="table-container">
                <button id="resetFiltersButton" class="btn btn-secondary">Reset Filters</button>
                <table class="table table-bordered table-hover" style="font-size: 0.70rem;">
                    <caption>List of People</caption>
                    <thead class="thead-light">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">
                                <div class="dropdown">
                                    <a class="dropdown-toggle" id="firstNameDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        First Name
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="firstNameDropdown">
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="firstNameSort" value="az" id="firstNameSortAZ">
                                                <label class="form-check-label" for="firstNameSortAZ">
                                                    A-Z
                                                </label>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="firstNameSort" value="za" id="firstNameSortZA">
                                                <label class="form-check-label" for="firstNameSortZA">
                                                    Z-A
                                                </label>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </th>
                            <th scope="col">
                                <div class="dropdown">
                                    <a class="dropdown-toggle" id="lastNameDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        Last Name
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="lastNameDropdown">
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="lastNameSort" value="az" id="lastNameSortAZ">
                                                <label class="form-check-label" for="lastNameSortAZ">
                                                    A-Z
                                                </label>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="lastNameSort" value="za" id="lastNameSortZA">
                                                <label class="form-check-label" for="lastNameSortZA">
                                                    Z-A
                                                </label>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </th>
                            <th scope="col">
                                <div class="dropdown">
                                    <a class="dropdown-toggle" id="genderDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        Gender
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="genderDropdown">
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" value="Male" id="maleCheck" name="genderFilter">
                                                <label class="form-check-label" for="maleCheck">
                                                    Male
                                                </label>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" value="Female" id="femaleCheck" name="genderFilter">
                                                <label class="form-check-label" for="femaleCheck">
                                                    Female
                                                </label>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </th>
                            <th scope="col">
                                <div class="dropdown">
                                    <a class="dropdown-toggle" id="birthdateDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        Birthdate
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="birthdateDropdown">
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="birthdateSort" value="newest" id="birthdateSortNewest">
                                                <label class="form-check-label" for="birthdateSortNewest">
                                                    Newest
                                                </label>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="birthdateSort" value="oldest" id="birthdateSortOldest">
                                                <label class="form-check-label" for="birthdateSortOldest">
                                                    Oldest
                                                </label>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </th>
                            <th scope="col">
                                <div class="dropdown">
                                    <a class="dropdown-toggle" id="addressDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        Address
                                    </a>
                                    <!-- <ul class="dropdown-menu" aria-labelledby="addressDropdown">
                                        Add address filtering options if needed 
                                    </ul>
                                    -->
                                </div>
                            </th>
                            <th scope="col">
                                <div class="dropdown">
                                    <a class="dropdown-toggle" id="barangayDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        Barangay
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="barangayDropdown">
                                        {{#each barangayCodes}}
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="{{this}}" id="{{@key}}Check" name="barangayFilter">
                                                <label class="form-check-label" for="{{@key}}Check">
                                                    {{this}}
                                                </label>
                                            </div>
                                        </li>
                                        {{/each}}
                                    </ul>
                                </div>
                            </th>

                            <th scope="col">
                                <div class="dropdown">
                                    <a class="dropdown-toggle" id="contactNumberDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        Contact Number
                                    </a>
                                    <!-- <ul class="dropdown-menu" aria-labelledby="contactNumberDropdown">
                                         Add contact number filtering options if needed 
                                    </ul>
                                    -->
                                </div>
                            </th>

                            <th scope="col">
                                <div class="dropdown">
                                    <a class="dropdown-toggle" id="disabilityTypeDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        Disability Type
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="disabilityTypeDropdown">
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="Physical" id="physicalCheck" name="disabilityTypeFilter">
                                                <label class="form-check-label" for="physicalCheck">
                                                    Physical
                                                </label>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="Mental" id="mentalCheck" name="disabilityTypeFilter">
                                                <label class="form-check-label" for="mentalCheck">
                                                    Mental
                                                </label>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </th>
                            <th scope="col">
                                <div class="dropdown">
                                    <a class="dropdown-toggle" id="createdAtDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        Created At
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="createdAtDropdown">
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="createdAtSort" value="newest" id="createdAtSortNewest">
                                                <label class="form-check-label" for="createdAtSortNewest">
                                                    Newest
                                                </label>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="createdAtSort" value="oldest" id="createdAtSortOldest">
                                                <label class="form-check-label" for="createdAtSortOldest">
                                                    Oldest
                                                </label>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </th>
                            <th scope="col">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="peopleTableBody">
                        <!-- Data Rows Will Be Injected Here -->
                    </tbody>
                </table>
            </div>

            <!-- Modal for Creating a New Person -->
            <div class="modal fade" id="modal-people-create" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Create New Person</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form id="form-people-create">
                                <div class="mb-3">
                                    <label for="firstName" class="form-label">First Name</label>
                                    <input type="text" class="form-control" id="firstName" name="firstName" required>
                                </div>
                                <div class="mb-3">
                                    <label for="lastName" class="form-label">Last Name</label>
                                    <input type="text" class="form-control" id="lastName" name="lastName" required>
                                </div>
                                <div class="mb-3">
                                    <label for="gender" class="form-label">Gender</label>
                                    <select class="form-select" id="gender" name="gender" required>
                                        <option value="" disabled selected>Select Gender</option>
                                        <option value="Male">Male</option>
                                        <option value="Female">Female</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="birthdate" class="form-label">Birthdate</label>
                                    <input type="date" class="form-control" id="birthdate" name="birthdate" required>
                                </div>
                                <div class="mb-3">
                                    <label for="address" class="form-label">Address</label>
                                    <input type="text" class="form-control" id="address" name="address" required>
                                </div>
                                <div class="mb-3">
                                    <label for="barangay" class="form-label">Barangay</label>
                                    <input type="text" class="form-control" id="barangay" name="barangay" required>
                                </div>
                                <div class="mb-3">
                                    <label for="contactNumber" class="form-label">Contact Number</label>
                                    <input type="text" class="form-control" id="contactNumber" name="contactNumber" required>
                                </div>
                                <div class="mb-3">
                                    <label for="disabilityType" class="form-label">Disability Type</label>
                                    <select class="form-select" id="disabilityType" name="disabilityType" required>
                                        <option value="" disabled selected>Select Disability Type</option>
                                        <option value="Physical">Physical</option>
                                        <option value="Mental">Mental</option>
                                    </select>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-primary" form="form-people-create">Save changes</button>
                        </div>
                    </div>
                </div>
            </div>
            

        </main>

         <!-- JQuery -->
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <!-- External JS -->
        <script src="/js/people-list.js"></script>
    </div>
</body>

</html>
